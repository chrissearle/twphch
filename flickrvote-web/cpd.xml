<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
<duplication lines="17" tokens="100">
<file line="59" path="/Users/chris/src/twphch/flickrvote/flickrvote-web/src/main/java/net/chrissearle/flickrvote/web/CurrentChallengeAction.java"/>
<file line="43" path="/Users/chris/src/twphch/flickrvote/flickrvote-web/src/main/java/net/chrissearle/flickrvote/web/ShowChallengeAction.java"/>
<codefragment>
<![CDATA[
            logger.debug("Challenge " + challengeSummary);
        }

        if (challengeSummary != null) {
            challenge = new DisplayChallengeSummary(challengeSummary);

            ChallengeItem challengeItem = photographyService.getChallengeImages(challengeSummary.getTag());

            images = new ArrayList<DisplayImage>(challengeItem.getImages().size());

            for (ImageItem image : challengeItem.getImages()) {
                images.add(new DisplayImage(image));
            }

            Collections.sort(images, new Comparator<DisplayImage>() {
                public int compare(DisplayImage o1, DisplayImage o2) {
                    return o2.getVoteCount().compareTo(o1.getVoteCount());
]]>
</codefragment>
</duplication>
</pmd-cpd>